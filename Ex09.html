<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>TDW P02_04 - É só cartões</title>
</head>

<body onload="main()">
  <div class="bg-light pt-3 pb-3">
    <div class="container">
      <h1 class="display-4">É só cartões</h1>
      <p class="lead">Para aprender conceitos de programação</p>
    </div>
  </div>
  <div class="container">
    <div id="cards" class="row mt-3">
      <!-- Content goes here -->
    </div>
  </div>
  </div>

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script>
    function main() {
      const totalCards = 100;

      const cards = document.getElementById('cards');
      //let htmlBlock = "";

      function addCard(title, text, image) {
        return `<div class="col-md-3 mb-3">
                                <div class="card" style="width: 18rem;">
                                    <img src="${image}" class="card-img-top">
                                    <div class="card-body">
                                        <h5 class="card-title">${title}</h5>
                                        <p class="card-text">${text}</p>
                                    </div>
                                </div >
                            </div>`;
      }

      /*for (let i = 1; i <= totalCards; i++) {

        htmlBlock += addCard(i);
      }
      //console.log(htmlBlock);
      cards.innerHTML = htmlBlock; */


      const url =
        "https://randomuser.me/api/?results=10";
      
      
        fetch(url).then(function (response) {
        return response.json()
      }) .then(function (data) {
          //console.log(data)
          data.results.forEach ( function (person) {
            let name = person.name.first + " " + person.name.last;
            let description = person.location.city + " " + person.location.country;
            let image = person.picture.large;

            cards.innerHTML += addCard (name , description , image)

          })
        })
        .catch(function (error) {
            console.log(error);
          });



    };

    



  </script>
</body>

</html>